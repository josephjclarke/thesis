\ProvidesPackage{thesissettings}

% format helpers
\usepackage[obeyDraft]{todonotes}
\usepackage{ifdraft}
% \usepackage[firstpage,stamp]{draftwatermark}

% latex hacks
\usepackage{xargs}

% encoding
\usepackage[utf8]{inputenc}
\usepackage[british]{babel}
\usepackage[T1]{fontenc}


% typography
\usepackage{microtype}
\usepackage{enumerate}
\usepackage{setspace}
\usepackage[twoside]{fancyhdr}
\usepackage{tocbibind}
\usepackage{setspace}
\usepackage{geometry}
\usepackage{lettrine}

% fonts
%\usepackage[cmintegrals,cmbraces]{newtxmath}
%\usepackage{ebgaramond}
\usepackage{ebgaramond-maths}
\usepackage{helvet}


% bibliography
\usepackage[backend=biber,
style=authoryear-comp,
maxbibnames=99,
uniquename=false,
url=false,
giveninits=true,
uniquelist=false,
sorting=ynt,
dashed=false]{biblatex}
\addbibresource{bibliography/bibliography.bib}

% List of symbols
\usepackage[acronym,toc,nonumberlist]{glossaries}

% Maths
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{mathrsfs}
\usepackage{bm}
\usepackage{breqn}

% science
\usepackage[uncertainty-mode=separate,separate-uncertainty-units=single]{siunitx}
\usepackage{physics}
\usepackage[version=4]{mhchem}

% figures
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{subfig}

% tables
\usepackage{booktabs}

% referencing
\usepackage{nameref}

% load at the end
\usepackage{hyperref}
\ifdraft{
  \usepackage[left]{showlabels}
  % \usepackage{lineno}
  %\linenumbers
}{}
\usepackage[noabbrev]{cleveref}

% Custom Units
\DeclareSIUnit\carbon{C}
\DeclareSIUnit\year{yr}
\DeclareSIUnit\ppm{ppm}
\DeclareSIUnit\beforepresent{BP}
\DeclareSIUnit\days{days}

% Custom Settings
\ifdraft{\renewcommand{\showlabelfont}{\ttfamily\tiny}}{}

% Mathematical Environments
\newtheorem{theorem}{Theorem}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{corollary}{Corollary}[theorem]






\DeclareOption{exeter}{
 % % University of Exeter Official Style
 %\AtEndOfPackage{\usepackage{helvet}}
 \renewcommand{\familydefault}{\sfdefault}
 \geometry{a4paper,left=30mm,right=30mm,top=20mm,bottom=20mm}
 \onehalfspacing

 % Headers and Footers
 \pagestyle{fancy}
 \renewcommand{\headrulewidth}{0pt}

 \if@twoside
  % even = left
  % odd  = right
  \fancyhead[LE]{\textsc{\nouppercase{\rightmark}}} % Section title
  \fancyhead[RO]{\textsc{\nouppercase{\leftmark}}} % Chapter title
  \fancyhead[C,LO,RE]{}
  \else
  \fancyhead[L]{\textsc{\nouppercase{\rightmark}}} % Section title
  \fancyhead[C,R]{}
  \fi

  \fancyfoot[L,R]{}
  \fancyfoot[C]{\thepage}

  % Need to number pages from 1 from title page
  \def\pagenumbering#1{}
  \renewcommandx{\lettrine}[6][1=1,2=1,3=1,4=1]{#5#6}

}
\DeclareOption{pretty}{
  % Headers and Footers
  \pagestyle{fancy}
  \renewcommand{\headrulewidth}{0pt}
  \if@twoside
  % even = left
  % odd  = right
  \fancyhead[LE]{\textsc{\nouppercase{\rightmark}}} % Section title
  \fancyhead[RO]{\textsc{\nouppercase{\leftmark}}} % Chapter title
  \fancyhead[C,LO,RE]{}
  \else
  \fancyhead[L]{\textsc{\nouppercase{\rightmark}}} % Section title
  \fancyhead[C,R]{}
  \fi
  
  \fancyfoot[L,R]{}
  \fancyfoot[C]{\thepage}
  \setlength{\headheight}{14.49998pt}
  \renewcommand{\epsilon}{\varepsilon} %HACK!
  \PackageWarning{thesissettings}{Replacing epsilon with varepsilon for garamond reasons. There must be a better way!}
}
\DeclareOption*{
}
\ProcessOptions\relax



% Mathematical Operators
\DeclareMathOperator*{\E}{\mathbb{E}}
\DeclareMathOperator\artanh{artanh}
\DeclareMathOperator\spec{spec}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% Hyperlink colours
\hypersetup{
  colorlinks=true,
  urlcolor=blue,
  linkcolor=blue,
  citecolor=blue
}

% Pgfplots
\pgfplotsset{compat=1.18}
%\usetikzlibrary{external}
%\tikzexternalize[prefix=externalisedfigs/]

% Contents Page
\renewcommand\@pnumwidth{1.8em} % So 3 digit numbers don't give overfull hbox

% add symbol to glossary
\newcommand{\addsymbol}[3]{\newglossaryentry{#1}{name={\ensuremath{#2}},description={#3}}}%,sort={#4}}}

% Custom hyphenation
\hyphenation{Lew-an-dow-ska Aka-dem-ie Pro-gr-ess}
